
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>é›»å½±çŒœè¬éŠæˆ²</title>
  <style>
    body {
      font-family: "Noto Sans TC", sans-serif;
      background: #f4f6fb;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    .screen {
      background: white;
      padding: 28px;
      width: 380px;
      border-radius: 16px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.1);
      text-align: center;
      display: none;
    }
    .screen.active { display: block; }
    h1 { font-size: 24px; margin-bottom: 10px; }
    .score { font-size: 16px; margin-bottom: 10px; color: #444; }
    img {
      width: 100%;
      border-radius: 12px;
      margin-bottom: 10px;
      filter: blur(8px) brightness(0.9);
      transition: filter 0.3s ease;
    }
    .hint {
      background: #eef2ff;
      padding: 10px;
      border-radius: 8px;
      margin-bottom: 10px;
    }
    input {
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
      margin-bottom: 10px;
    }
    button {
      width: 100%;
      padding: 10px;
      border: none;
      border-radius: 8px;
      background: #6366f1;
      color: white;
      font-size: 16px;
      cursor: pointer;
      margin-bottom: 6px;
    }
    button:hover { background: #4f46e5; }
    .result { margin-top: 8px; font-weight: bold; }
  </style>
</head>
<body>

  <div class="screen active" id="startScreen">
    <h1>ğŸ¬ é›»å½±çŒœè¬éŠæˆ²</h1>
    <p>æ ¹æ“šåœ–ç‰‡èˆ‡æç¤ºçŒœé›»å½±</p>
    <button onclick="startGame()">é–‹å§‹éŠæˆ²</button>
  </div>

  <div class="screen" id="gameScreen"></div>

  <script>
    const fallbackImage = "https://i.ytimg.com/vi/5PSNL1qE6VY/hqdefault.jpg";

    const movies = [
      { title: "ç©å…·ç¸½å‹•å“¡", hint: "å¦‚æœç©å…·æœƒèªªè©±ã€‚", quote: "é£›å‘å®‡å®™ï¼Œæµ©ç€šç„¡å ï¼", image: "https://i.ytimg.com/vi/v-PjgYDrg70/hqdefault.jpg" },
      { title: "ä¾ç¾…ç´€å…¬åœ’", hint: "æé¾å¾©æ´»ã€‚", quote: "ç”Ÿå‘½æœƒæ‰¾åˆ°å‡ºè·¯ã€‚", image: "https://i.ytimg.com/vi/lc0UehYemQA/hqdefault.jpg" },
      { title: "å“ˆåˆ©æ³¢ç‰¹", hint: "é­”æ³•å­¸æ ¡ã€‚", quote: "ä½ æ˜¯å€‹å·«å¸«ã€‚", image: "https://i.ytimg.com/vi/VyHV0BRtdxo/hqdefault.jpg" },
      { title: "å¾©ä»‡è€…è¯ç›Ÿ", hint: "è‹±é›„é›†çµã€‚", quote: "å¾©ä»‡è€…ï¼Œé›†çµï¼", image: "https://i.ytimg.com/vi/eOrNdBpGMv8/hqdefault.jpg" },
      { title: "é˜¿å‡¡é”", hint: "è—è‰²æ˜Ÿçƒã€‚", quote: "æˆ‘çœ‹è¦‹ä½ äº†ã€‚", image: "https://i.ytimg.com/vi/5PSNL1qE6VY/hqdefault.jpg" },
      { title: "èœ˜è››äºº", hint: "è²¬ä»»ã€‚", quote: "èƒ½åŠ›è¶Šå¤§è²¬ä»»è¶Šå¤§ã€‚", image: "https://i.ytimg.com/vi/t06RUxPbp_c/hqdefault.jpg" },
      { title: "æ˜Ÿéš›å¤§æˆ°", hint: "åŸåŠ›ã€‚", quote: "é¡˜åŸåŠ›èˆ‡ä½ åŒåœ¨ã€‚", image: "https://i.ytimg.com/vi/vZ734NWnAHA/hqdefault.jpg" },
      { title: "å…¨é¢å•Ÿå‹•", hint: "å¤¢ä¸­å¤¢ã€‚", quote: "å¤¢ä¸­ä¹‹å¤¢ã€‚", image: "https://i.ytimg.com/vi/YoHD9XEInc0/hqdefault.jpg" },
      { title: "é­”æˆ’", hint: "æˆ’æŒ‡ã€‚", quote: "è‡³å°Šé­”æˆ’ã€‚", image: "https://i.ytimg.com/vi/V75dMMIW2B4/hqdefault.jpg" },
      { title: "åŠŸå¤«ç†Šè²“", hint: "ç†Šè²“æ­¦å­¸ã€‚", quote: "æ²’æœ‰ç¥•å¯†é…æ–¹ã€‚", image: "https://i.ytimg.com/vi/PXi3Mv6KMzY/hqdefault.jpg" }
    ];

    let score = 0;
    let questionIndex = 0;
    let wrongCount = 0;
    const maxChances = 3;
    let questionPool = [];
    let current = null;

    function renderGameUI() {
      document.getElementById("gameScreen").innerHTML = `
        <h1>ğŸ¥ çŒœé›»å½±</h1>
        <div class="score">åˆ†æ•¸ï¼š<span id="score">0</span> ï½œ é¡Œç›®ï¼š<span id="qIndex">1</span>/10 ï½œ å‰©é¤˜ï¼š<span id="chances">3</span></div>
        <img id="movieImage" src="" />
        <div class="hint" id="hint"></div>
        <div class="hint" id="quoteHint" style="display:none"></div>
        <input id="answer" placeholder="è¼¸å…¥é›»å½±åç¨±" />
        <button onclick="checkAnswer()">é€å‡º</button>
        <div class="result" id="result"></div>
      `;
    }

    function startGame() {
      document.getElementById("startScreen").classList.remove("active");
      document.getElementById("gameScreen").classList.add("active");
      score = 0;
      questionIndex = 0;
      questionPool = [...movies].sort(() => Math.random() - 0.5);
      renderGameUI();
      loadQuestion();
    }

    function loadQuestion() {
      if (questionPool.length === 0) return showResult();
      current = questionPool.shift();
      wrongCount = 0;
      questionIndex++;

      document.getElementById("score").innerText = score;
      document.getElementById("qIndex").innerText = questionIndex;
      document.getElementById("chances").innerText = maxChances;

      const img = document.getElementById("movieImage");
      img.src = current.image || fallbackImage;
      img.style.filter = "blur(8px)";

      document.getElementById("hint").innerText = current.hint;
      const quote = document.getElementById("quoteHint");
      quote.innerText = current.quote;
      quote.style.display = "none";
      document.getElementById("answer").value = "";
      document.getElementById("result").innerText = "";
    }

    function checkAnswer() {
      const result = document.getElementById("result");
      const img = document.getElementById("movieImage");
      const ans = document.getElementById("answer").value.trim();
      if (!ans) {
        result.innerText = "è«‹è¼¸å…¥ç­”æ¡ˆ";
        return;
      }

      if (ans === current.title) {
        score += 10;
        result.innerText = "ç­”å°ï¼";
        img.style.filter = "blur(0)";
        setTimeout(loadQuestion, 1200);
      } else {
        wrongCount++;
        document.getElementById("chances").innerText = maxChances - wrongCount;
        img.style.filter = `blur(${Math.max(0, 8 - wrongCount * 2)}px)`;
        document.getElementById("quoteHint").style.display = "block";
        if (wrongCount >= maxChances) {
          result.innerText = `æ­£ç¢ºç­”æ¡ˆï¼š${current.title}`;
          img.style.filter = "blur(0)";
          setTimeout(loadQuestion, 1500);
        } else {
          result.innerText = "ç­”éŒ¯äº†";
        }
      }
    }

    function showResult() {
      let comment = "";
      if (score >= 90) comment = "ğŸ‰ é›»å½±é”äººï¼å¹¾ä¹æ²’æœ‰é›£å€’ä½ çš„é¡Œç›®";
      else if (score >= 70) comment = "ğŸ‘ è¡¨ç¾å¾ˆæ£’ï¼å°é›»å½±ç›¸ç•¶ç†Ÿæ‚‰";
      else if (score >= 50) comment = "ğŸ™‚ é‚„ä¸éŒ¯ï¼Œå¯ä»¥å†å¤šçœ‹é»é›»å½±";
      else comment = "ğŸ“º å¤šçœ‹é›»å½±å†ä¾†æŒ‘æˆ°å§ï¼";

      document.getElementById("gameScreen").innerHTML = `
        <h1>ğŸ éŠæˆ²çµæŸ</h1>
        <p>æœ€çµ‚åˆ†æ•¸ï¼š<strong>${score}</strong></p>
        <p>${comment}</p>
        <button onclick="startGame()">å†ç©ä¸€æ¬¡</button>
        <button onclick="backToStart()">å›åˆ°é–‹å§‹ç•«é¢</button>
      `;
    }

    function backToStart() {
      document.getElementById("gameScreen").classList.remove("active");
      document.getElementById("startScreen").classList.add("active");
      document.getElementById("gameScreen").innerHTML = "";
      score = 0;
      questionIndex = 0;
      wrongCount = 0;
      questionPool = [];
      current = null;
    }
  </script>
</body>
</html>
