<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…¨æ–¹ä½æ­Œæ›²å¿«é€ŸæŸ¥è©¢</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .lyrics-pre {
            white-space: pre-wrap;
            word-wrap: break-word;
            font-family: 'PingFang TC', 'Microsoft JhengHei', sans-serif;
            line-height: 1.8;
        }
        .btn-hover { transition: all 0.2s ease-in-out; }
        .btn-hover:hover { transform: translateY(-2px); }
    </style>
</head>
<body class="bg-slate-50 min-h-screen font-sans">

    <nav class="sticky top-0 bg-white/80 backdrop-blur-md shadow-sm border-b border-gray-200 p-4 z-50">
        <div class="max-w-5xl mx-auto flex flex-col md:flex-row gap-3">
            <div class="flex-1 flex gap-2">
                <input type="text" id="artist" placeholder="æ­Œæ‰‹ (Artist)" 
                    class="w-full p-3 bg-gray-100 border-none rounded-xl focus:ring-2 focus:ring-indigo-500 transition">
                <input type="text" id="title" placeholder="æ­Œå (Song Title)" 
                    class="w-full p-3 bg-gray-100 border-none rounded-xl focus:ring-2 focus:ring-indigo-500 transition">
            </div>
            <button onclick="searchMusic()" 
                class="bg-indigo-600 text-white px-8 py-3 rounded-xl hover:bg-indigo-700 transition font-bold shadow-lg shadow-indigo-200">
                ç«‹å³æŸ¥è©¢
            </button>
        </div>
    </nav>

    <main class="max-w-5xl mx-auto p-6">
        
        <div id="status-area" class="text-center py-20">
            <div class="text-6xl mb-6">ğŸµ</div>
            <h1 class="text-4xl font-black text-slate-800 mb-4">éŸ³æ¨‚æƒ…å ±æœå°‹ç«™</h1>
            <p class="text-slate-500 text-lg">è¼¸å…¥æ­Œæ‰‹èˆ‡æ­Œåï¼Œä¸€éµä¸²é€£å…¨çƒéŸ³æ¨‚è³‡æº</p>
        </div>

        <div id="result-area" class="hidden animate-in fade-in duration-500">
            
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                
                <div class="lg:col-span-1 space-y-4">
                    <div class="bg-white p-6 rounded-2xl shadow-xl shadow-slate-200 border border-slate-100">
                        <div class="mb-6">
                            <span class="text-indigo-600 font-bold text-sm uppercase tracking-widest">Now Searching</span>
                            <h2 id="display-song" class="text-3xl font-black text-slate-900 leading-tight mt-1">æ­Œå</h2>
                            <p id="display-artist" class="text-xl text-slate-500">æ­Œæ‰‹</p>
                        </div>
                        
                        <div class="flex flex-col gap-3">
                            <a id="link-youtube" target="_blank" class="btn-hover flex items-center justify-between bg-red-600 text-white px-4 py-3 rounded-xl font-bold">
                                <span>YouTube å½±ç‰‡</span>
                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg>
                            </a>
                            <a id="link-spotify" target="_blank" class="btn-hover flex items-center justify-between bg-green-500 text-white px-4 py-3 rounded-xl font-bold">
                                <span>Spotify è†è½</span>
                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.49 17.31c-.22.36-.683.473-1.043.252-2.88-1.76-6.502-2.16-10.767-1.185-.413.094-.827-.16-.92-.573-.094-.413.16-.827.573-.92 4.67-1.066 8.665-.613 11.905 1.367.36.22.472.683.252 1.043zm1.464-3.26c-.276.45-.862.593-1.31.317-3.298-2.028-8.324-2.615-12.223-1.43-.51.155-1.044-.138-1.2-.648-.155-.51.138-1.044.648-1.2 4.46-1.353 10.007-.7 13.768 1.613.45.277.594.862.317 1.31zm.126-3.414C15.228 8.214 8.847 8 5.122 9.13c-.58.175-1.19-.16-1.365-.742-.175-.582.16-1.192.742-1.367 4.275-1.298 11.32-1.04 15.776 1.604.52.31.69 1 .38 1.52-.31.52-1 .69-1.52.38z"/></svg>
                            </a>
                            <a id="link-apple" target="_blank" class="btn-hover flex items-center justify-between bg-black text-white px-4 py-3 rounded-xl font-bold">
                                <span>Apple Music</span>
                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12.122 6.67s.044-1.996 1.662-3.14c.524-.373 1.065-.584 1.57-.655.093-.013.133.11.057.167-.822.62-1.32 1.644-1.32 2.768 0 1.25.614 2.213 1.24 2.825.07.067.012.18-.08.163-1.133-.21-2.42-.907-3.13-1.988zm-.51 11.944c-2.31 0-3.692-1.35-3.692-3.512 0-2.226 1.558-3.614 3.826-3.614 1.643 0 2.97.778 3.52 1.31.06.06.014.155-.067.143-.374-.055-1.1-.132-1.74-.132-1.783 0-2.73 1.056-2.73 2.193 0 1.025.754 1.83 1.854 1.83 1.082 0 1.942-.516 2.503-1.157.054-.06.14-.02.14.053v.098c0 1.916-1.472 2.99-3.613 2.99zm8.56 1.398c-1.19.863-2.613 1.267-4.137 1.267-3.504 0-5.717-1.928-6.07-1.928-.312 0-1.85 1.564-4.814 1.564-2.884 0-5.15-2.016-5.15-5.32 0-3.882 2.92-6.524 6.13-6.524 1.597 0 2.9.524 3.655 1.026.062.04.14.012.167-.056.417-1.026 1.354-2.18 3.14-3.14.102-.054.21.036.177.144-.306 1-1.365 4.346-1.365 5.926 0 1.488.665 2.164 1.63 2.164.57 0 1.152-.23 1.656-.632.064-.052.146.01.12.083l-1.06 2.59c-.04.103.01.213.113.254 1.22.486 2.457.773 3.614.773 2.06 0 3.397-1.127 3.397-2.71 0-1.29-.86-2.296-2.457-2.296-.867 0-1.7.273-2.316.71-.06.043-.136-.007-.123-.08l.386-2.074c.01-.064.08-.1.134-.078.614.256 1.344.423 2.1.423 2.39 0 4.29-1.875 4.29-4.832 0-3.412-2.394-5.836-6.09-5.836-4.524 0-8.083 3.512-8.083 8.356 0 2.047.534 3.714 1.42 4.93.05.068.01.16-.07.152-1.424-.132-2.583-1.38-3.08-2.61-.036-.09-.163-.092-.2-.005l-.57 1.393c-.03.076.006.16.082.19 1.064.417 2.457.842 3.906.842 4.545 0 7.82-3.374 7.82-8.312 0-4.04-2.883-6.47-6.59-6.47-4.225 0-7.79 3.01-7.79 7.7 0 3.373 1.764 6.22 4.493 6.643.08.012.112.115.05.166-1.52 1.228-3.435 1.942-5.462 1.942C2.46 21.03 0 18.57 0 15.15 0 11.234 3.447 7.9 7.5 7.9c1.613 0 3.097.493 4.246 1.312.062.044.144-.01.125-.084l-.576-2.235c-.012-.05.026-.1.077-.1 1.026 0 2.22.613 3.01 1.38.052.052.14.01.127-.063l-.443-2.4c-.012-.07.065-.122.126-.09 1.157.614 2.146 1.465 2.81 2.413.045.064.14.033.14-.044V7.93c0-3.32-2.457-5.93-5.836-5.93-4.545 0-8.216 3.73-8.216 8.355 0 4.09 2.532 7.02 5.926 7.02 1.63 0 3.086-.68 4.14-1.784.053-.056.143-.02.143.057v.148c0 .245.02.485.06.716.012.073.1.1.155.053a4.917 4.917 0 0 0 1.25-2.073c.026-.08.14-.076.16.004l.43 1.765c.018.077.114.1.173.046 1.133-1.026 2-2.457 2.443-4.13.023-.086.144-.083.16.004l.41 2.214c.01.05.07.085.118.077 1.04-.156 1.996-.563 2.8-1.164.06-.045.144.004.13.078l-.48 2.515z"/></svg>
                            </a>
                            <a id="link-kkbox" target="_blank" class="btn-hover flex items-center justify-between bg-sky-400 text-white px-4 py-3 rounded-xl font-bold">
                                <span>KKBOX æŸ¥è©¢</span>
                                <span class="text-xs border border-white/50 px-2 py-1 rounded">TW</span>
                            </a>
                        </div>
                    </div>
                </div>

                <div class="lg:col-span-2 space-y-4">
                    <div class="bg-white p-8 rounded-2xl shadow-xl shadow-slate-200 border border-slate-100 min-h-[400px]">
                        <div class="flex items-center justify-between mb-6 border-b border-slate-100 pb-4">
                            <h3 class="text-slate-400 font-bold uppercase tracking-widest text-sm flex items-center gap-2">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
                                æ­Œè©å…§æ–‡ (Lyrics)
                            </h3>
                        </div>
                        <div id="lyrics-content" class="lyrics-pre text-slate-700 text-lg italic">
                            </div>
                    </div>
                </div>

            </div>
        </div>

        <div id="loader" class="hidden flex flex-col items-center justify-center py-20">
            <div class="w-12 h-12 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin"></div>
            <p class="mt-4 text-indigo-600 font-medium tracking-wide">æ­£åœ¨æœå°‹éŸ³æ¨‚è³‡æº...</p>
        </div>
    </main>

    <script>
        async function searchMusic() {
            const artist = document.getElementById('artist').value.trim();
            const title = document.getElementById('title').value.trim();
            
            if (!artist || !title) {
                alert("è«‹å¡«å¯«æ­Œæ‰‹èˆ‡æ­Œåï¼");
                return;
            }

            // UI ç‹€æ…‹åˆ‡æ›
            document.getElementById('status-area').classList.add('hidden');
            document.getElementById('loader').classList.remove('hidden');
            document.getElementById('result-area').classList.add('hidden');

            try {
                // 1. æŠ“å–æ­Œè© (Lyrics.ovh)
                const response = await fetch(`https://api.lyrics.ovh/v1/${encodeURIComponent(artist)}/${encodeURIComponent(title)}`);
                const data = await response.json();

                // 2. æ›´æ–°é¡¯ç¤ºè³‡è¨Š
                document.getElementById('display-song').innerText = title;
                document.getElementById('display-artist').innerText = artist;

                // 3. è™•ç†æ­Œè©å…§å®¹
                const isChinese = /[\u4e00-\u9fa5]/.test(artist + title);
                const contentBox = document.getElementById('lyrics-content');

                if (isChinese) {
                    contentBox.innerHTML = `
                        <div class="bg-indigo-50 p-6 rounded-2xl text-indigo-800 not-italic">
                            <h4 class="font-bold mb-2">ğŸ’¡ ä¸­æ–‡æ­Œæ›²å»ºè­°</h4>
                            <p>ç”±æ–¼ç‰ˆæ¬Šé™åˆ¶ï¼Œæˆ‘å€‘ç„¡æ³•ç›´æ¥é¡¯ç¤ºå®Œæ•´ä¸­æ–‡æ­Œè©ã€‚è«‹åˆ©ç”¨å·¦å´çš„ <span class="font-bold">YouTube</span> æˆ– <span class="font-bold">KKBOX</span> æŒ‰éˆ•æŸ¥çœ‹å®˜æ–¹æ­Œè©èˆ‡å‹•æ…‹æ­Œè©ã€‚</p>
                        </div>
                    `;
                } else if (data.lyrics) {
                    contentBox.innerText = data.lyrics;
                    contentBox.classList.remove('not-italic');
                } else {
                    contentBox.innerHTML = `<span class="text-slate-400">æŠ±æ­‰ï¼Œç›®å‰æ‰¾ä¸åˆ°é€™é¦–æ­Œçš„ç´”æ–‡å­—æ­Œè©ï¼Œå»ºè­°ç›´æ¥æŸ¥çœ‹ä¸‹æ–¹å½±éŸ³é€£çµã€‚</span>`;
                }

                // 4. æ›´æ–°å¤–éƒ¨æœå°‹é€£çµ
                const query = `${artist} ${title}`;
                document.getElementById('link-youtube').href = `https://www.youtube.com/results?search_query=${encodeURIComponent(query + ' lyrics')}`;
                document.getElementById('link-spotify').href = `https://open.spotify.com/search/${encodeURIComponent(query)}`;
                document.getElementById('link-apple').href = `https://music.apple.com/tw/search?term=${encodeURIComponent(query)}`;
                document.getElementById('link-kkbox').href = `https://www.kkbox.com/tw/tc/search.php?word=${encodeURIComponent(query)}`;

                // é¡¯ç¤ºçµæœ
                document.getElementById('result-area').classList.remove('hidden');

            } catch (error) {
                alert("æœå°‹å¤±æ•—ï¼Œè«‹æª¢æŸ¥ç¶²è·¯é€£ç·šã€‚");
            } finally {
                document.getElementById('loader').classList.add('hidden');
            }
        }

        // Enter éµè§¸ç™¼
        document.addEventListener('keypress', (e) => { if (e.key === 'Enter') searchMusic(); });
    </script>
</body>
</html>