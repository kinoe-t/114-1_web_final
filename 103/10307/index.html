<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI å…¨çƒæ—…è¡Œè¦åŠƒå¸«</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;700&display=swap');
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #f8fafc; }
        .hero-gradient { background: linear-gradient(135deg, #1e293b 0%, #334155 100%); }
        .card-hover { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        .card-hover:hover { transform: translateY(-5px); box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1); }
    </style>
</head>
<body class="text-slate-800">

    <header class="hero-gradient text-white py-16 px-4 text-center shadow-lg">
        <h1 class="text-4xl md:text-5xl font-bold mb-4 tracking-tight">æ¢ç´¢ä¸–ç•Œï¼Œç”±ä½ å®šç¾©</h1>
        <p class="text-slate-300 text-lg max-w-2xl mx-auto">è¼¸å…¥æ—…è¡Œå¤©æ•¸èˆ‡é—œéµå­—ï¼Œæˆ‘å€‘å°‡ç‚ºæ‚¨è¦åŠƒä¸€å¥—ã€Œçµ•ä¸é‡è¤‡ã€çš„æ·±åº¦æ—…éŠè¡Œç¨‹ã€‚</p>
    </header>

    <main class="container mx-auto max-w-5xl px-4 -mt-12">
        <div class="bg-white rounded-3xl shadow-xl p-6 md:p-10 border border-slate-100 mb-12">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="space-y-2">
                    <label class="text-sm font-bold text-slate-500 uppercase flex items-center gap-2">
                        <i class="fa-solid fa-calendar-days"></i> æ—…éŠå¤©æ•¸ (1-10å¤©)
                    </label>
                    <input type="number" id="days" min="1" max="10" value="3" 
                        class="w-full bg-slate-50 border border-slate-200 rounded-2xl px-5 py-4 focus:ring-2 focus:ring-blue-500 outline-none transition">
                </div>
                <div class="space-y-2">
                    <label class="text-sm font-bold text-slate-500 uppercase flex items-center gap-2">
                        <i class="fa-solid fa-wand-magic-sparkles"></i> æƒ³è¦ä»€éº¼æ¨£çš„æ—…è¡Œï¼Ÿ
                    </label>
                    <input type="text" id="keywords" placeholder="ä¾‹å¦‚ï¼šç¾é£Ÿ, æ­·å², å†’éšª, æ”¾é¬†" 
                        class="w-full bg-slate-50 border border-slate-200 rounded-2xl px-5 py-4 focus:ring-2 focus:ring-blue-500 outline-none transition">
                </div>
            </div>
            <button onclick="generateTrip()" class="w-full mt-8 bg-blue-600 hover:bg-blue-700 text-white font-bold py-5 rounded-2xl shadow-lg transition duration-300 flex items-center justify-center gap-3">
                <i class="fa-solid fa-earth-americas"></i> ç«‹å³æ¨è–¦åœ‹å®¶èˆ‡è¡Œç¨‹
            </button>
        </div>

        <div id="result-container" class="hidden">
            <div class="flex items-center gap-4 mb-8">
                <div class="h-12 w-2 bg-blue-600 rounded-full"></div>
                <div>
                    <h2 id="country-name" class="text-3xl font-black text-slate-900"></h2>
                    <p id="country-desc" class="text-slate-500 italic"></p>
                </div>
            </div>

            <div id="itinerary-grid" class="space-y-8 mb-20">
                </div>
        </div>
    </main>

    <script>
        const travelData = [
            {
                country: "æ—¥æœ¬ â€§ æ±äº¬ (Tokyo)",
                desc: "æ¥µè‡´æ•ˆç‡èˆ‡å¤è€å‚³çµ±çš„äº¤æœƒé»ã€‚",
                tags: ["ç¾é£Ÿ", "è³¼ç‰©", "å‹•æ¼«", "æ–‡åŒ–"],
                spots: ["æ·ºè‰å¯º", "æ˜æ²»ç¥å®®", "æ¾€è°·å±•æœ›å° SHIBUYA SKY", "ç§‹è‘‰åŸ", "ç¯‰åœ°å ´å¤–å¸‚å ´", "ä¸Šé‡å…¬åœ’", "æ–°å®¿å¾¡è‹‘", "æ±äº¬éµå¡”", "è±ªå¾·å¯º", "æ ¹æ´¥ç¾è¡“é¤¨"],
                restaurants: ["éŠ€åº§ ç¯ æ‹‰éºµ", "æ•˜æ•˜è‹‘ ç‡’è‚‰", "å£½å¸å¤§", "æ·ºè‰ ä»ŠåŠ", "è—ç“¶å’–å•¡", "äººå½¢ç”º ä»ŠåŠ", "æ²¾éºµ å…­å˜èˆ", "ç±³å…¶æ—æ‹‰éºµ é³´é¾"]
            },
            {
                country: "æ³•åœ‹ â€§ å·´é» (Paris)",
                desc: "å…¨ä¸–ç•Œæœ€æµªæ¼«çš„è—è¡“æ®¿å ‚ã€‚",
                tags: ["æµªæ¼«", "è—è¡“", "æ­·å²", "æ™‚å°š"],
                spots: ["ç¾…æµ®å®®", "è‰¾è²çˆ¾éµå¡”", "å‡±æ—‹é–€", "å¥§è³½åšç‰©é¤¨", "è’™é¦¬ç‰¹é«˜åœ°", "è–æ¯é™¢", "æœæ¨‚éº—èŠ±åœ’", "é¦™æ¦­éº—èˆå¤§é“", "é¾ç•¢åº¦ä¸­å¿ƒ", "æ­ŒåŠ‡é™¢"],
                restaurants: ["èŠ±ç¥å’–å•¡é¤¨", "Angelina ç”œé»", "Le Comptoir å°é…’é¤¨", "L'As du Fallafel", "å·´é»æœ€å¤è€é¤å»³ Procope", "Pink Mamma"]
            },
            {
                country: "æ¾³æ´² â€§ é›ªæ¢¨ (Sydney)",
                desc: "é™½å…‰ã€æ²™ç˜èˆ‡ç¾ä»£å»ºç¯‰çš„å®Œç¾çµåˆã€‚",
                tags: ["å†’éšª", "è‡ªç„¶", "æµ·æ´‹", "æ”¾é¬†"],
                spots: ["é›ªæ¢¨æ­ŒåŠ‡é™¢", "æ”€ç™»é›ªæ¢¨æ¸¯ç£å¤§æ©‹", "é‚¦ä»£æµ·ç˜", "å¡”é¾åŠ å‹•ç‰©åœ’", "å²©çŸ³å€å¸‚é›†", "çš‡å®¶æ¤ç‰©åœ’", "é”ä»¤æ¸¯", "è—å±±åœ‹å®¶å…¬åœ’", "æ›¼åˆ©æµ·ç˜"],
                restaurants: ["Quay æ™¯è§€é¤å»³", "Bills é¬†é¤…", "The Grounds of Alexandria", "Hurricane's Grill è±¬è‚‹æ’", "Sydney Fish Market"]
            },
            {
                country: "ç¾©å¤§åˆ© â€§ ç¾…é¦¬ (Rome)",
                desc: "æ°¸æ†ä¹‹åŸï¼Œæ¯ä¸€å¡ŠçŸ³é ­éƒ½æ˜¯æ­·å²ã€‚",
                tags: ["æ­·å²", "å»ºç¯‰", "ç¾é£Ÿ", "å®—æ•™"],
                spots: ["ç«¶æŠ€å ´", "è¬ç¥æ®¿", "è¨±é¡˜æ± ", "ç‰¹èŠç¶­å™´æ³‰", "æ¢µè’‚å²¡åšç‰©é¤¨", "è–å½¼å¾—å¤§æ•™å ‚", "å¤ç¾…é¦¬å»£å ´", "è¥¿ç­ç‰™éšæ¢¯", "è–å¤©ä½¿åŸå ¡", "ç´æ²ƒç´å»£å ´"],
                restaurants: ["Roscioli åŸ¹æ ¹è›‹éºµ", "Pizzarium Bonci", "Two Sizes ææ‹‰ç±³è˜‡", "Giolitti å†°æ·‡æ·‹", "Da Enzo å°é…’é¤¨"]
            },
            {
                country: "æ³°åœ‹ â€§ æ›¼è°· (Bangkok)",
                desc: "ç†±æƒ…ç«è¾£çš„è‰²å½©èˆ‡ç„¡èˆ‡å€«æ¯”çš„è¡—é ­ç¾å‘³ã€‚",
                tags: ["ç¾é£Ÿ", "ä¾¿å®œ", "å¤œç”Ÿæ´»", "å¯ºå»Ÿ"],
                spots: ["å¤§çš‡å®®", "é„­ç‹å»Ÿ", "è‡¥ä½›å¯º", "ICONSIAM", "æ´½åœ–æ´½å¸‚é›†", "ä¸¹å«©èæœµæ°´ä¸Šå¸‚å ´", "ç¾åŠŸéµé“å¸‚å ´", "è€ƒå±±è·¯", "æœ±æ‹‰éš†åŠŸå¤§å­¸å•†åœˆ"],
                restaurants: ["Jay Fai èŸ¹è‚‰æ­å§†è›‹", "å»ºèˆˆé…’å®¶", "Savoey æµ·é®®", "Mae Varee èŠ’æœç³¯ç±³", "Here Hai èŸ¹è‚‰ç‚’é£¯"]
            },
            {
                country: "éŸ“åœ‹ â€§ é¦–çˆ¾ (Seoul)",
                desc: "K-Pop æ½®æµèˆ‡éŸ“å±‹é¢¨æƒ…çš„æ··æ­ä¹‹æ—…ã€‚",
                tags: ["è³¼ç‰©", "æ½®æµ", "ç¾é£Ÿ", "å½±è¦–"],
                spots: ["æ™¯ç¦å®®", "åŒ—æ‘éŸ“å±‹æ‘", "å—å±±å¡”", "æ˜Ÿç©ºåœ–æ›¸é¤¨", "å»£è—å¸‚å ´", "æ±å¤§é–€è¨­è¨ˆå»£å ´", "ç›Šå–„æ´", "æ¼¢æ±Ÿå…¬åœ’", "è–æ°´æ´å’–å•¡è¡—"],
                restaurants: ["æ˜æ´æ ¡æ‘ç‚¸é›", "é™³ç‰è¯ä¸€éš»é›", "å­”é™µä¸€éš»é›", "å“ˆå“ˆ&é‡‘é˜åœ‹ç‡’è‚‰", "é˜¿å³´æ´é†¬èŸ¹"]
            },
            {
                country: "å°ç£ â€§ èŠ±è“® (Hualien)",
                desc: "å¤§è‡ªç„¶é¬¼æ–§ç¥å·¥çš„å¤ªå¹³æ´‹é–€æˆ¶ã€‚",
                tags: ["è‡ªç„¶", "é¢¨æ™¯", "æ”¾é¬†", "æ”å½±"],
                spots: ["å¤ªé­¯é–£ç‡•å­å£", "æ¸…æ°´æ–·å´–", "ä¸ƒæ˜Ÿæ½­", "é›²å±±æ°´", "çŸ³æ¢¯åª", "é¯‰é­šæ½­", "ç‘ç©—ç‰§å ´", "æ¾åœ’åˆ¥é¤¨", "ç¿¡ç¿ è°·", "è²¨æ«ƒå±‹æ˜Ÿå·´å…‹"],
                restaurants: ["æ¶²é¦™æ‰é£Ÿ", "ç‚¸è›‹è”¥æ²¹é¤…", "éµè‚‰å…ˆç”Ÿ", "æ¬£æ¬£éºµé¤¨", "æ±å¤§é–€å¤œå¸‚å„é¡æ”¤ä½"]
            }
        ];

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[array[i]]];
            }
            return array;
        }

        function generateTrip() {
            const days = parseInt(document.getElementById('days').value);
            const userKeywords = document.getElementById('keywords').value.toLowerCase();

            if (!days || days <= 0) { alert("è«‹è¼¸å…¥æœ‰æ•ˆå¤©æ•¸"); return; }
            if (!userKeywords) { alert("è«‹è¼¸å…¥é—œéµå­—è®“æˆ‘å€‘æ¨è–¦"); return; }

            // 1. æ¬Šé‡åŒ¹é…æ¨è–¦
            let selected = travelData[0];
            let maxScore = -1;

            travelData.forEach(item => {
                let score = 0;
                item.tags.forEach(t => { if (userKeywords.includes(t)) score += 2; });
                score += Math.random(); // å¢åŠ éš¨æ©Ÿæ€§
                if (score > maxScore) { maxScore = score; selected = item; }
            });

            // 2. é¡¯ç¤ºåœ‹å®¶è³‡è¨Š
            document.getElementById('result-container').classList.remove('hidden');
            document.getElementById('country-name').innerText = selected.country;
            document.getElementById('country-desc').innerText = selected.desc;

            // 3. éš¨æ©Ÿæ‰“äº‚æ™¯é»èˆ‡é¤å»³ï¼Œç¢ºä¿ã€Œä¸é‡è¤‡ã€
            let availableSpots = [...selected.spots];
            let availableFoods = [...selected.restaurants];
            for (let i = availableSpots.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [availableSpots[i], availableSpots[j]] = [availableSpots[j], availableSpots[i]];
            }
            for (let i = availableFoods.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [availableFoods[i], availableFoods[j]] = [availableFoods[j], availableFoods[i]];
            }

            // 4. ç”Ÿæˆè¡Œç¨‹
            const grid = document.getElementById('itinerary-grid');
            grid.innerHTML = "";

            for (let d = 1; d <= days; d++) {
                // æ¯æ¬¡å–å‡º 2 å€‹ä¸é‡è¤‡æ™¯é»èˆ‡ 1 å€‹é¤å»³
                const morningSpot = availableSpots.pop() || "ç•¶åœ°è‡ªç”±æ¢ç´¢å€";
                const afternoonSpot = availableSpots.pop() || "å¸‚ä¸­å¿ƒç‰¹è‰²è¡—é“";
                const dinner = availableFoods.pop() || "ç•¶åœ°è©•åˆ†æœ€é«˜ç‰¹è‰²æ–™ç†";

                const card = document.createElement('div');
                card.className = "bg-white rounded-3xl p-6 md:p-8 shadow-sm border border-slate-100 card-hover grid grid-cols-1 md:grid-cols-4 gap-6";
                card.innerHTML = `
                    <div class="md:col-span-1 flex flex-col justify-center items-center bg-blue-50 rounded-2xl py-6">
                        <span class="text-blue-600 font-bold uppercase tracking-widest text-xs">Day</span>
                        <span class="text-5xl font-black text-blue-800">${d}</span>
                    </div>
                    <div class="md:col-span-3 space-y-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="p-4 bg-slate-50 rounded-2xl">
                                <h4 class="text-xs font-bold text-slate-400 mb-2 uppercase">â˜€ï¸ ä¸Šåˆè¡Œç¨‹</h4>
                                <p class="font-bold text-lg text-slate-800">${morningSpot}</p>
                            </div>
                            <div class="p-4 bg-slate-50 rounded-2xl">
                                <h4 class="text-xs font-bold text-slate-400 mb-2 uppercase">ğŸŒ† ä¸‹åˆè¡Œç¨‹</h4>
                                <p class="font-bold text-lg text-slate-800">${afternoonSpot}</p>
                            </div>
                        </div>
                        <div class="border-t border-dashed border-slate-200 pt-4 flex items-center gap-4">
                            <div class="h-10 w-10 bg-orange-100 text-orange-600 rounded-full flex items-center justify-center">
                                <i class="fa-solid fa-utensils"></i>
                            </div>
                            <div>
                                <h4 class="text-xs font-bold text-slate-400 uppercase">ç²¾é¸ç¾é£Ÿæ¨è–¦</h4>
                                <p class="text-slate-800 font-bold">${dinner}</p>
                            </div>
                        </div>
                    </div>
                `;
                grid.appendChild(card);
            }

            // å¹³æ»‘æ»¾å‹•åˆ°çµæœ
            window.scrollTo({ top: document.getElementById('result-container').offsetTop - 50, behavior: 'smooth' });
        }
    </script>
</body>
</html>