<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>å¡”ç¾…æŠ½å¡</title>
<style>
    body{
        background-color:#E6E6FA;
        font-family: Arial, sans-serif;
        text-align:center;
        padding-top:40px;
    }
    .hidden{display:none;}

    /* æ”¾å¤§æŒ‰éˆ• */
    button{
        font-size:22px;
        padding:15px 40px;
        margin:10px;
        cursor:pointer;
    }

    .cardImg{
        width:110px;
        height:170px;
        margin:6px;
        cursor:pointer;
        object-fit:cover;
    }

    #shuffle{
        font-size:30px;
        animation:rotate 1s infinite linear;
        margin-top:20px;
    }
    @keyframes rotate {
        0%{transform:rotate(0deg);}
        100%{transform:rotate(360deg);}
    }
</style>
</head>

<body>

<h1>ä¾†æŠ½å¡”ç¾…å§!</h1>

<button id="startBtn">é–‹å§‹</button>

<!-- é¸æ“‡é¢å‘ -->
<div id="aspectArea" class="hidden">
    <h2>è«‹é¸æ“‡å åœé¢å‘</h2>
    <button class="aspect">æ„›æƒ…</button>
    <button class="aspect">è²¡é‹</button>
    <button class="aspect">å·¥ä½œå­¸æ¥­</button>
    <button class="aspect">æ•´é«”é‹å‹¢</button>
</div>

<!-- æ´—ç‰Œå‹•ç•« -->
<div id="shuffleArea" class="hidden">
    <div id="shuffle">ğŸ”®</div>
    <p>æ´—ç‰Œä¸­â€¦â€¦</p>
</div>

<!-- æŠ½ç‰Œéšæ®µ -->
<div id="pickArea" class="hidden">
    <h2 id="pickMsg">è«‹é¸ç¬¬ä¸€å¼µï¼ˆéå»ï¼‰</h2>
    <div id="cards"></div>
</div>

<!-- çµæœå€ -->
<div id="results" class="hidden"></div>

<script>

const tarotInfo = [
{name:"0 æ„šè€…",up:"å†’éšªã€æ–°æ©Ÿæœƒ",rev:"è¿·æƒ˜ã€ç¼ºä¹æ–¹å‘"},
{name:"I é­”è¡“å¸«",up:"èƒ½åŠ›ã€å‰µé€ åŠ›",rev:"æ¬ºé¨™ã€é˜»ç¤™"},
{name:"II å¥³ç¥­å¸",up:"ç›´è¦ºã€æ™ºæ…§",rev:"å£“æŠ‘ã€å›°æƒ‘"},
{name:"III çš‡å",up:"è±ç››ã€æ»‹é¤Š",rev:"ä¾è³´ã€åœæ»¯"},
{name:"IV çš‡å¸",up:"ç©©å®šã€ç§©åº",rev:"å›ºåŸ·ã€å£“è¿«"},
{name:"V æ•™çš‡",up:"å­¸ç¿’ã€å‚³çµ±",rev:"åè¦‹ã€å›é€†"},
{name:"VI æˆ€äºº",up:"é—œä¿‚ã€é¸æ“‡",rev:"åˆ†æ­§ã€èª˜æƒ‘"},
{name:"VII æˆ°è»Š",up:"å‹åˆ©ã€æ„å¿—",rev:"å¤±æ§ã€å»¶é²"},
{name:"VIII åŠ›é‡",up:"å‹‡æ°£ã€è€å¿ƒ",rev:"ç„¦æ…®ã€è»Ÿå¼±"},
{name:"IX éš±è€…",up:"åçœã€æ€è€ƒ",rev:"å­¤ç«‹ã€é€€ç¸®"},
{name:"X å‘½é‹ä¹‹è¼ª",up:"è½‰æ©Ÿã€è®ŠåŒ–",rev:"é˜»ç¤™ã€é€†å¢ƒ"},
{name:"XI æ­£ç¾©",up:"å…¬å¹³ã€çœŸç›¸",rev:"ä¸å…¬ã€åèª¤"},
{name:"XII åŠäºº",up:"è½‰å¿µã€çŠ§ç‰²",rev:"æ‹–å»¶ã€æŠ—æ‹’"},
{name:"XIII æ­»ç¥",up:"çµæŸã€é‡ç”Ÿ",rev:"å®³æ€•æ”¹è®Š"},
{name:"XIV ç¯€åˆ¶",up:"å¹³è¡¡ã€åˆä½œ",rev:"è¡å‹•ã€å¤±è¡¡"},
{name:"XV æƒ¡é­”",up:"æŸç¸›ã€æ¬²æœ›",rev:"è§£æ”¾ã€æŠ—æ‹’"},
{name:"XVI å¡”",up:"ç ´é™¤ã€æ”¹é©",rev:"ç¶­æŒå‡è±¡"},
{name:"XVII æ˜Ÿæ˜Ÿ",up:"å¸Œæœ›ã€ç™‚ç™’",rev:"å¤±æœ›ã€æ‚²è§€"},
{name:"XVIII æœˆäº®",up:"ç›´è¦ºã€æ½›æ„è­˜",rev:"çœŸç›¸æµ®ç¾"},
{name:"XIX å¤ªé™½",up:"æˆåŠŸã€å¹¸ç¦",rev:"æ‹–å»¶ã€ä¸å®‰"},
{name:"XX å¯©åˆ¤",up:"åçœã€æ±ºæ–·",rev:"é€ƒé¿ã€é²ç–‘"},
{name:"XXI ä¸–ç•Œ",up:"å®Œæˆã€åœ“æ»¿",rev:"åœæ»¯ã€ç¼ºä¹çµæŸ"}
];

const good=["ä¿æŒæ¨‚è§€","çœŸèª æºé€š","å°ˆæ³¨ç›®æ¨™","å–„å¾…è‡ªå·±","ç›¸ä¿¡ç›´è¦º"];
const bad=["è¡å‹•è¡Œå‹•","é€ƒé¿å•é¡Œ","éåº¦æ¶ˆè€—","å›ºåŸ·å·±è¦‹","æ‹–å»¶ä¸æ±º"];

let picks=[];
let aspect="";
let pickCount=0;
let shuffled=[];

// é–‹å§‹
document.getElementById("startBtn").onclick=()=>{
    document.getElementById("startBtn").style.display="none";
    document.getElementById("aspectArea").classList.remove("hidden");
};

// é¸é¢å‘
document.querySelectorAll(".aspect").forEach(btn=>{
    btn.onclick=()=>{
        aspect=btn.innerText;
        document.getElementById("aspectArea").classList.add("hidden");
        document.getElementById("shuffleArea").classList.remove("hidden");

        // åŸ·è¡Œæ´—ç‰Œæ‰“äº‚
        shuffled=Array.from({length:22},(_,i)=>i+1)
            .sort(()=>Math.random()-0.5);

        setTimeout(()=>{
            document.getElementById("shuffleArea").classList.add("hidden");
            startPick();
        },2000);
    };
});

function startPick(){
    document.getElementById("pickArea").classList.remove("hidden");
    const cards=document.getElementById("cards");
    cards.innerHTML="";

    shuffled.forEach(num=>{
        const img=document.createElement("img");
        img.className="cardImg";
        img.src="ç‰ŒèƒŒ.jpg";
        img.dataset.index=num;
        img.onclick=function(){
            revealCard(this);
        }
        cards.appendChild(img);
    });
}

function revealCard(cardElement){
    if(pickCount>=3) return;

    const realIndex=cardElement.dataset.index-1;
    const data=tarotInfo[realIndex];

    const upright=Math.random()<0.5;

    picks.push({
        name:data.name,
        status:upright?"æ­£ä½":"é€†ä½",
        meaning:upright?data.up:data.rev,
        good:good[Math.floor(Math.random()*good.length)],
        bad:bad[Math.floor(Math.random()*bad.length)]
    });

    cardElement.src=`å¡”ç¾…ç‰Œ${realIndex+1}.jpg`;
    cardElement.style.pointerEvents="none";

    pickCount++;

    if(pickCount==1)
        document.getElementById("pickMsg").innerText="è«‹é¸ç¬¬äºŒå¼µï¼ˆç¾åœ¨ï¼‰";
    if(pickCount==2)
        document.getElementById("pickMsg").innerText="è«‹é¸ç¬¬ä¸‰å¼µï¼ˆæœªä¾†ï¼‰";
    if(pickCount==3)
        showResults();
}

function showResults(){
    document.getElementById("pickArea").classList.add("hidden");

    const res=document.getElementById("results");
    res.classList.remove("hidden");
    res.innerHTML=`<h2>${aspect}é‹å‹¢è§£æ</h2>`;

    const pos=["éå»","ç¾åœ¨","æœªä¾†"];
    picks.forEach((c,i)=>{
        res.innerHTML+=`
        <p>
        ã€${pos[i]}ã€‘<br>
        ${c.status}ï¼š${c.name}<br>
        ç‰Œç¾©ï¼š${c.meaning}<br>
        å®œï¼š${c.good}<br>
        å¿Œï¼š${c.bad}
        </p>`;
    });

    const restart=document.createElement("button");
    restart.innerText="é‡æ–°é–‹å§‹";
    restart.onclick=()=>location.reload();
    res.appendChild(restart);
}

</script>

</body>
</html>
