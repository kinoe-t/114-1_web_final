<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¶“å…¸æ­Œè©æŒ‘æˆ°è³½</title>
    <style>
        :root {
            --primary: #4f46e5;
            --success: #10b981;
            --error: #ef4444;
            --bg: #f3f4f6;
            --dark: #1f2937;
        }

        body {
            font-family: 'PingFang TC', 'Microsoft JhengHei', sans-serif;
            background-color: var(--bg);
            color: var(--dark);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
        }

        #quiz-card {
            background: white;
            width: 90%;
            max-width: 500px;
            padding: 2rem;
            border-radius: 1.5rem;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            text-align: center;
        }

        .lyric-text {
            font-size: 1.25rem;
            font-weight: bold;
            margin: 2rem 0;
            line-height: 1.6;
            color: #111827;
        }

        .options-container {
            display: grid;
            gap: 1rem;
        }

        button {
            padding: 1rem;
            border: 2px solid #e5e7eb;
            border-radius: 0.75rem;
            background: white;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        button:hover {
            border-color: var(--primary);
            background-color: #f5f3ff;
        }

        .feedback-screen { display: none; }
        .score-screen { display: none; }

        .status-icon { font-size: 4rem; margin-bottom: 1rem; }
        
        .btn-next {
            background-color: var(--primary);
            color: white;
            border: none;
            width: 100%;
            margin-top: 1.5rem;
            font-weight: bold;
        }

        .btn-next:hover { background-color: #4338ca; }

        .correct-ans { color: var(--success); font-weight: bold; }
        .progress { font-size: 0.8rem; color: #6b7280; margin-bottom: 0.5rem; }
    </style>
</head>
<body>

<div id="quiz-card">
    <div id="question-view">
        <div class="progress">ç¬¬ <span id="q-number">1</span> / 15 é¡Œ</div>
        <div class="lyric-text" id="lyric-content">è¼‰å…¥ä¸­...</div>
        <div class="options-container" id="options-box"></div>
    </div>

    <div id="feedback-view" class="feedback-screen">
        <div id="feedback-icon" class="status-icon"></div>
        <h2 id="feedback-title"></h2>
        <p id="answer-detail"></p>
        <button class="btn-next" onclick="nextQuestion()">ä¸‹ä¸€é¡Œ</button>
    </div>

    <div id="score-view" class="score-screen">
        <div class="status-icon">ğŸ†</div>
        <h2>æŒ‘æˆ°å®Œæˆï¼</h2>
        <div style="font-size: 3rem; font-weight: 800; color: var(--primary); margin: 1rem 0;">
            <span id="final-score">0</span> / 100
        </div>
        <p id="score-comment"></p>
        <button class="btn-next" onclick="location.reload()">é‡æ–°æŒ‘æˆ°</button>
    </div>
</div>

<script>
    const songData = [
        { lyric: "å¿«æ¨‚ç…‰æˆæ·šæ°´ æ˜¯ä¸€ç¨®å‹‡æ•¢", title: "ä¿®ç…‰æ„›æƒ…" },
        { lyric: "é›¢é–‹ä½  æˆ‘æ‰ç™¼ç¾è‡ªå·± é‚£æ„›ç¬‘çš„çœ¼ç›", title: "æ„›ç¬‘çš„çœ¼ç›" },
        { lyric: "ä½ èªªä½ æœ‰é»é›£è¿½ æƒ³è®“æˆ‘çŸ¥é›£è€Œé€€", title: "å‘Šç™½æ°£çƒ" },
        { lyric: "æ„›çš„å·´å£« ç¸½æ˜¯èµ°äº†åˆåœ", title: "æ—¥ä¸è½" },
        { lyric: "åªæ˜¯å›æ†¶çš„éŸ³æ¨‚ç›’é‚„æ—‹è½‰è‘— è¦æ€éº¼åœå‘¢", title: "èªªå¥½çš„å¹¸ç¦å‘¢" },
        { lyric: "æˆ‘åŸè«’ä¸äº†æˆ‘,å°±è«‹ä½ ç•¶ä½œæˆ‘å·²ä¸åœ¨", title: "æ“±æ·º" },
        { lyric: "æˆ‘ç”¨çœ¼å…‰å»è¿½,ç«Ÿè½è¦‹ä½ çš„æ·š", title: "ä¸€è·¯å‘åŒ—" },
        { lyric: "åŠå‡ºé˜æ©æ€¨äº†èª°ç¬‘,æˆ‘åªæ±‚ä»Šæœæ“ä½ å…¥æ‡·æŠ±", title: "ç´…å¡µå®¢æ£§" },
        { lyric: "é˜»æ“‹æ‚²åŠ‡è”“å»¶çš„æ‚²åŠ‡æœƒè®“æˆ‘æ²ˆé†‰", title: "ä»¥çˆ¶ä¹‹å" },
        { lyric: "Nice to meet you it's my pleasure", title: "Pleasure" },
        { lyric: "I love you so much , I do", title: "è¨ˆç®—æµªæ¼«" },
        { lyric: "ç‚ºäº†ä½ è¸®èµ· æœ€å­¤ç¨çš„è…³å°–", title: "çµ•" },
        { lyric: "é›»è©±æ²’æ¥ æ‰‹æ©Ÿæ²’é›»", title: "ç”˜è”—æ°æ°" },
        { lyric: "ä¸æ‡‚æ€éº¼è¡¨ç¾æº«æŸ”çš„æˆ‘å€‘,é‚„ä»¥ç‚ºæ®‰æƒ…åªæ˜¯å¤è€çš„å‚³è¨€", title: "æ±Ÿå—" },
        { lyric: "ä¸€çœ¨çœ¼ ä¸€ç¬é–“ å¦³èªªå¥½å°±æ˜¯æ°¸é ", title: "å¦‚æœå¯ä»¥" }
    ];

    // å…¶ä»–èª¤å°ç”¨çš„æ­Œåæ± 
    const decoyTitles = ["æ³¡æ²«", "å°å¹¸é‹", "èƒŒå°èƒŒæ“æŠ±", "åå¹´", "å€’å¸¶", "é’èŠ±ç“·", "è½åª½åª½çš„è©±", "é—œéµè©", "å­¸è²“å«", "é«”é¢"];

    let currentIdx = 0;
    let score = 0;
    let quizList = [];

    function init() {
        // æ´—ç‰Œé¡Œç›®
        quizList = [...songData].sort(() => Math.random() - 0.5);
        showQuestion();
    }

    function showQuestion() {
        const q = quizList[currentIdx];
        document.getElementById('question-view').style.display = 'block';
        document.getElementById('feedback-view').style.display = 'none';
        
        document.getElementById('q-number').innerText = currentIdx + 1;
        document.getElementById('lyric-content').innerText = `ã€Œ${q.lyric}ã€`;

        // ç”Ÿæˆé¸é …ï¼š1å€‹æ­£ç¢º + 3å€‹éš¨æ©ŸéŒ¯èª¤
        let options = [q.title];
        let availableDecoys = decoyTitles.filter(t => t !== q.title);
        while(options.length < 4) {
            let randomDecoy = availableDecoys[Math.floor(Math.random() * availableDecoys.length)];
            if(!options.includes(randomDecoy)) options.push(randomDecoy);
        }
        options.sort(() => Math.random() - 0.5);

        const box = document.getElementById('options-box');
        box.innerHTML = '';
        options.forEach(opt => {
            const btn = document.createElement('button');
            btn.innerText = opt;
            btn.onclick = () => checkAnswer(opt, q.title);
            box.appendChild(btn);
        });
    }

    function checkAnswer(selected, correct) {
        const isCorrect = selected === correct;
        if(isCorrect) score += (100 / 15);

        document.getElementById('question-view').style.display = 'none';
        document.getElementById('feedback-view').style.display = 'block';

        const icon = document.getElementById('feedback-icon');
        const title = document.getElementById('feedback-title');
        const detail = document.getElementById('answer-detail');

        icon.innerText = isCorrect ? 'â­•' : 'âŒ';
        icon.style.color = isCorrect ? 'var(--success)' : 'var(--error)';
        title.innerText = isCorrect ? 'ç­”å°äº†ï¼' : 'ç­”éŒ¯äº†...';
        detail.innerHTML = `æ­£ç¢ºç­”æ¡ˆæ˜¯ï¼š<span class="correct-ans">ã€Š${correct}ã€‹</span>`;
    }

    function nextQuestion() {
        currentIdx++;
        if (currentIdx < 15) {
            showQuestion();
        } else {
            showFinalScore();
        }
    }

    function showFinalScore() {
        document.getElementById('feedback-view').style.display = 'none';
        document.getElementById('score-view').style.display = 'block';
        
        const roundedScore = Math.round(score);
        document.getElementById('final-score').innerText = roundedScore;
        
        let comment = "";
        if(roundedScore >= 90) comment = "ä½ æ˜¯è¯èªæ¨‚å£‡å°ç™¾ç§‘ï¼";
        else if(roundedScore >= 60) comment = "å¾ˆæ£’ï¼ä½ æ˜¯è³‡æ·±æ¨‚è¿·ã€‚";
        else comment = "å†æ¥å†å²ï¼Œå¤šè½é»æ­Œå§ï¼";
        
        document.getElementById('score-comment').innerText = comment;
    }

    init();
</script>
</body>
</html>
