<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>è€ƒè©¦å­£ç”Ÿå­˜æ¨¡æ“¬å™¨ï¼šç¾ä»£æ¥µè‡´ç‰ˆ</title>
<style>
  :root {
    --primary: #4f7cff;
    --bg: #f8f9fc;
    --card-bg: #ffffff;
    --text: #2d3436;
    --stress: #ff7675;
    --energy: #55efc4;
    --score: #74b9ff;
  }

  body {
    font-family: "SF Pro Display", "Noto Sans TC", sans-serif;
    background: var(--bg);
    color: var(--text);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
  }

  .card {
    background: var(--card-bg);
    width: 90%;
    max-width: 550px; /* æ”¾å¤§é¡¯ç¤ºå€åŸŸ */
    padding: 40px;
    border-radius: 24px;
    box-shadow: 0 20px 40px rgba(0,0,0,0.05);
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  }

  h1 { 
    text-align: center; 
    font-size: 28px; 
    font-weight: 800; 
    margin-bottom: 30px; 
    letter-spacing: -0.5px;
  }

  .stats-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    margin-bottom: 30px;
  }

  .stat-item {
    background: #f1f3f9;
    padding: 15px;
    border-radius: 16px;
    position: relative;
  }

  .stat-label { font-size: 15px; font-weight: 600; margin-bottom: 8px; display: block; }
  .stat-value { font-size: 20px; font-weight: 800; color: var(--primary); }

  /* é€²åº¦æ¢å„ªåŒ– */
  .progress-container {
    background: #e0e6ed;
    height: 10px;
    border-radius: 5px;
    margin-top: 10px;
    overflow: hidden;
  }
  .progress-fill {
    height: 100%;
    width: 0%;
    transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .event-container {
    min-height: 120px;
    margin: 30px 0;
    padding: 20px;
    background: #fff;
    border: 2px solid #f1f3f9;
    border-radius: 18px;
    font-size: 18px;
    line-height: 1.6;
    font-weight: 500;
  }

  .day-indicator {
    display: inline-block;
    background: var(--text);
    color: white;
    padding: 4px 12px;
    border-radius: 8px;
    font-size: 13px;
    margin-bottom: 10px;
  }

  .button-group button {
    width: 100%;
    margin-bottom: 12px;
    padding: 16px;
    border: none;
    border-radius: 14px;
    background: #f1f3f9;
    color: var(--text);
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
    text-align: left;
  }

  .button-group button:hover {
    background: var(--primary);
    color: white;
    transform: translateX(5px);
  }

  /* é“å…·é€šçŸ¥å‹•ç•« */
  @keyframes slideIn {
    from { opacity: 0; transform: translateY(-20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .item-pop {
    background: #fdf2f2;
    border: 1px solid #ff7675;
    color: #d63031;
    padding: 12px;
    border-radius: 12px;
    font-size: 14px;
    margin-bottom: 20px;
    animation: slideIn 0.5s ease;
    display: none;
  }

  .end-screen { text-align: center; }
  .restart-btn { 
    background: var(--primary) !important; 
    color: white !important; 
    text-align: center !important; 
    margin-top: 20px;
  }
</style>
</head>
<body>

<div class="card" id="startScreen">
  <div style="font-size: 60px; text-align: center;">ğŸ’</div>
  <h1>è€ƒè©¦å­£ç”Ÿå­˜æ¨¡æ“¬</h1>
  <p style="text-align: center; color: #636e72; margin-bottom: 30px;">
    é€™æ˜¯ä¸€å€‹é—œæ–¼ 14 å¤©å…§å¦‚ä½•ä¸å´©æ½°çš„å¯¦é©—ã€‚
  </p>
  <div class="button-group">
    <button class="restart-btn" onclick="startGame()">é–‹å§‹é«”é©—</button>
  </div>
</div>

<div class="card" id="gameScreen" style="display:none">
  <div class="stats-grid">
    <div class="stat-item">
      <span class="stat-label">ğŸ“š æˆç¸¾</span>
      <span class="stat-value" id="score">50</span>
      <div class="progress-container"><div id="scoreBar" class="progress-fill" style="background: var(--score)"></div></div>
    </div>
    <div class="stat-item">
      <span class="stat-label">ğŸ˜« å£“åŠ›</span>
      <span class="stat-value" id="stress">30</span>
      <div class="progress-container"><div id="stressBar" class="progress-fill" style="background: var(--stress)"></div></div>
    </div>
    <div class="stat-item">
      <span class="stat-label">ğŸ˜„ ç²¾ç¥</span>
      <span class="stat-value" id="energy">50</span>
      <div class="progress-container"><div id="energyBar" class="progress-fill" style="background: var(--energy)"></div></div>
    </div>
    <div class="stat-item" style="display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 700;">
      â³ å‰©é¤˜ <span id="days" style="color:var(--primary); margin: 0 5px;">14</span> å¤©
    </div>
  </div>

  <div id="itemPop" class="item-pop"></div>
  
  <div class="event-container">
    <div class="day-indicator" id="dayLabel">DAY 1</div>
    <div id="eventText">è¼‰å…¥ä¸­...</div>
  </div>

  <div class="button-group" id="choices"></div>
</div>

<script>
let score, stress, energy, days, currentPool;

// æ“´å……äº‹ä»¶åº«ï¼ˆç¢ºä¿è¶…é 14 å€‹ä»¥é˜²æŠ½å®Œï¼‰
const allEvents = [
  { text: 'ä½ åœ¨æ›¸åŒ…ç™¼ç¾ä¸€æœ¬å…¨æ–°èª²æœ¬ï¼Œå°é¢çš„æ³¡éºµæ¼¬è®“ä½ è¦ºå¾—å¾ˆæœ‰è—è¡“æ„Ÿã€‚', options: [
    { t: 'ç•¶ä½œè–ç¶“é–‹å§‹ç‹‚èƒŒ', s: 15, st: 10, e: -10 },
    { t: 'é€™æœ¬æ‡‰è©²ä¸è€ƒï¼Œæ‹¿ä¾†å¢Šä¾¿ç•¶', s: -5, st: -5, e: 8 },
    { t: 'åªè®€ç›®éŒ„ï¼Œå‡è£æŒæ¡å…¨å±€', s: 5, st: 2, e: -2 }
  ]},
  { text: 'ç¾¤çµ„å‚³ä¾†ã€Œç‰¹åƒ¹å¤§è–¯è²·ä¸€é€ä¸€ã€çš„æ¶ˆæ¯ï¼Œå¤§å®¶éƒ½åœ¨æ¨™è¨»ä½ ã€‚', options: [
    { t: 'å¿ç—›é—œéœéŸ³ï¼Œæˆ‘æ„›è®€æ›¸', s: 8, st: 8, e: -5 },
    { t: 'è¡äº†ï¼å¤§è–¯æ˜¯éˆé­‚ç‡ƒæ–™', s: -2, st: -15, e: 15 },
    { t: 'å¹«éšŠå‹ä»£è³¼ï¼Œé †ä¾¿ç¤¾äº¤', s: -5, st: -5, e: 10 }
  ]},
  { text: 'ä½ ç ”ç©¶äº† 3 å°æ™‚ï¼ŒæˆåŠŸåœ¨è¨ˆç®—ç´™ä¸Šç•«å‡ºäº†å®Œç¾çš„æ´¾å¤§æ˜Ÿã€‚', options: [
    { t: 'è‡ªè²¬åˆ°åŸåœ°å´©æ½°', s: -2, st: 15, e: -5 },
    { t: 'é€™ä¹Ÿæ˜¯ä¸€ç¨®è—è¡“å¤©è³¦', s: -5, st: -10, e: 10 },
    { t: 'æŠŠæ´¾å¤§æ˜Ÿè²¼åœ¨å‡†è€ƒè­‰ä¸Š', s: 3, st: -5, e: 2 }
  ]},
  { text: 'æ¼”ç®—æ³•æ¨çµ¦ä½ ã€Œæ°´è±šæ³¡æº«æ³‰ 10 å°æ™‚ã€çš„ 4K å½±ç‰‡ã€‚', options: [
    { t: 'çœ‹ 5 åˆ†é˜ç²å¾—éˆé­‚æ´—æ»Œ', s: -2, st: -15, e: 8 },
    { t: 'çœ‹å®Œ 10 å°æ™‚ï¼Œæ•´å€‹äººè®Šæ°´è±š', s: -25, st: -25, e: 30 },
    { t: 'æ†¤è€Œæª¢èˆ‰è©²å½±ç‰‡', s: 5, st: 15, e: -5 }
  ]},
  { text: 'ä½ åœ¨åœ–æ›¸é¤¨è®€æ›¸è®€åˆ°ä¸€åŠï¼Œéš”å£æ¡Œçš„äººé–‹å§‹åƒç‚¸é›ã€‚', options: [
    { t: 'ç”¨æ†¤æ€’è½‰åŒ–ç‚ºè®€æ›¸å‹•åŠ›', s: 10, st: 15, e: -5 },
    { t: 'è·Ÿä»–è²·ä¸€å¡Šè…¿æ’', s: -5, st: -10, e: 10 },
    { t: 'é»˜é»˜æ›åˆ°å»æ‰€é–€å£è®€', s: 5, st: 5, e: -5 }
  ]},
  { text: 'ä½ è©¦åœ–ä½¿ç”¨ã€Œé‡å­æ³¢å‹•é€Ÿè®€ã€åœ¨ 10 åˆ†é˜å…§è®€å®Œå¾®ç©åˆ†ã€‚', options: [
    { t: 'æ„Ÿå—åˆ°å®‡å®™çš„çŸ¥è­˜æµ', s: 20, st: 10, e: -15 },
    { t: 'åªæœ‰é¢¨å¹éè‡‰é¾çš„è™›ç„¡æ„Ÿ', s: -10, st: 5, e: 5 },
    { t: 'çœ¼ç›å·®é»æŠ½ç­‹', s: -5, st: 10, e: -5 }
  ]},
  { text: 'åŠå¤œä¸‰é»ï¼Œä½ è¦ºå¾—åœ°æ¿å¤ªé«’ï¼Œçªç„¶é–‹å§‹é€²è¡Œå…¨å±‹å¤§æƒé™¤ã€‚', options: [
    { t: 'æƒå¾—ä¸€å¡µä¸æŸ“ï¼Œå¿ƒæƒ…æ¥µä½³', s: -5, st: -20, e: -10 },
    { t: 'æƒåˆ°ä¸€åŠé–‹å§‹çœ‹èˆŠç…§ç‰‡æ„Ÿå˜†', s: -15, st: -5, e: -5 },
    { t: 'å¼·è¿«è‡ªå·±æ”¾ä¸‹æƒæŠŠçœ‹æ›¸', s: 8, st: 15, e: -10 }
  ]},
  { text: 'è€å¸«åœ¨èª²å ‚ä¸Šæš—ç¤ºï¼šã€Œé€™é¡Œä¸è€ƒæˆ‘éš¨ä¾¿ä½ å€‘ã€‚ã€', options: [
    { t: 'åå¿ƒç†å­¸ï¼šé€™é¡Œçµ•å°å¿…è€ƒ', s: 15, st: 10, e: -5 },
    { t: 'ç›¸ä¿¡è€å¸«ï¼Œé€™è¼©å­æ²’é€™éº¼è¼•é¬†é', s: -10, st: -15, e: 15 },
    { t: 'æ•´æœ¬æ’•æ‰ï¼Œè€å¸«èªªä¸è€ƒ', s: -30, st: -20, e: 20 }
  ]},
  { text: 'ä½ ç™¼ç¾ä½ çš„ã€Œç¶ è‰²ä¹–ä¹–ã€éæœŸäº†ï¼Œè€Œä¸”è®Šæˆäº†é»ƒè‰²ã€‚', options: [
    { t: 'é€™ä»£è¡¨æˆ‘çš„æˆç¸¾æœƒç™¼é»ƒ', s: -10, st: 20, e: -5 },
    { t: 'éæœŸæ‰è£œï¼Œè² è² å¾—æ­£', s: 5, st: -5, e: 10 },
    { t: 'æŠŠå®ƒå¡—æˆç¶ è‰²ç¹¼çºŒæ‹œ', s: 5, st: 10, e: -5 }
  ]},
  { text: 'æš—æˆ€çš„å°è±¡å•ä½ ï¼šã€Œé€™é¡Œæ€éº¼å¯«ï¼Ÿã€', options: [
    { t: 'æ•™åˆ°ä»–è®Šæ•™æˆï¼Œæˆ‘è®Šå¤§ç¥', s: 25, st: 15, e: -20 },
    { t: 'ã€Œæˆ‘ä¹Ÿä¸æœƒï¼Œæˆ‘å€‘è¦ä¸ä¸€èµ·å»å¤œå”±ï¼Ÿã€', s: -20, st: -20, e: 30 },
    { t: 'å†·é…·å›è¦†ï¼šè«‹çœ‹èª²æœ¬ç¬¬ 5 é ', s: 5, st: 5, e: -2 }
  ]},
  { text: 'ä½ åœ¨ç­†è¨˜æœ¬å¤¾å±¤ç™¼ç¾ä¸€å¼µ 1000 å…ƒéˆ”ç¥¨ã€‚', options: [
    { t: 'è²·è£œè…¦ç¥è—¥', s: 15, st: -5, e: 5 },
    { t: 'å»åƒè±ªè¯å¤§é¤çŠ’è³è‡ªå·±', s: -10, st: -20, e: 15 },
    { t: 'å­˜èµ·ä¾†ç•¶é‡ä¿®è²»', s: 2, st: 10, e: -5 }
  ]},
  { text: 'é„°å±…çš„å°å­©çªç„¶é–‹å§‹ç·´å—©å¶ã€‚', options: [
    { t: 'æˆ´ä¸ŠæŠ—å™ªè€³æ©Ÿç¡¬æ’', s: 8, st: 15, e: -5 },
    { t: 'è·Ÿä»–åˆå¥ï¼Œé‡‹æ”¾å£“åŠ›', s: -15, st: -25, e: 10 },
    { t: 'å»æª¢èˆ‰ä»–ï¼ˆä½†ä¹Ÿæµªè²»æ™‚é–“ï¼‰', s: 2, st: 10, e: -5 }
  ]},
  { text: 'ä½ å¤¢åˆ°æ•™æˆå‘Šè¨´ä½ è€ƒè©¦é¡Œç›®ï¼Œçµæœé†’ä¾†å…¨å¿˜äº†ã€‚', options: [
    { t: 'å´©æ½°å¤§å“­ä¸€æ•´å¤©', s: -10, st: 25, e: -10 },
    { t: 'åŠªåŠ›å›æƒ³ï¼ˆé›–ç„¶æ²’ç”¨ï¼‰', s: 2, st: 15, e: -5 },
    { t: 'é€™ä¸€å®šæ˜¯è€å¤©å«æˆ‘åˆ¥è®€äº†', s: -10, st: -15, e: 15 }
  ]},
  { text: 'å®¤å‹åœ¨æ—é‚Šæ‰“éŠæˆ²ï¼Œç‹‚å«ã€Œå¥ˆæ–¯ï¼ã€ã€‚', options: [
    { t: 'åŠ å…¥ä»–ï¼Œä¸€å ´å°±å¥½', s: -15, st: -10, e: 15 },
    { t: 'çªä»–ï¼ˆä½†ä»–æ²’çœ‹ä½ ï¼‰', s: 2, st: 15, e: -5 },
    { t: 'å»åœ–æ›¸é¤¨æµæµª', s: 10, st: 10, e: -10 }
  ]},
  { text: 'ä½ åœ¨é€™æœ¬æ›¸çš„ç¬¬ä¸€é å¯«ä¸‹ã€Œå¿…å‹ã€å¾Œå°±ç´¯äº†ã€‚', options: [
    { t: 'å¯«å­—ä¹Ÿæ˜¯é«”åŠ›æ´»', s: -5, st: -10, e: 10 },
    { t: 'å†å¯«å…©é ã€ŒåŠªåŠ›ã€', s: 5, st: 5, e: -5 },
    { t: 'æŠŠç­†æŠ˜æ–·æ£„ç™‚', s: -20, st: -20, e: 20 }
  ]}
];

const items = [
  { name: "ğŸ’Š è…¦æ®˜ç‰‡", msg: "ä½ åä¸‹ä¸æ˜æç¥è—¥ç‰©ï¼Œæ€ç¶­è®Šå¿«ï¼Œä½†å¿ƒè·³åˆ°å¿«ç‚¸é–‹ã€‚", s: 12, st: 15, e: -5 },
  { name: "ğŸ§§ ç´…åŒ…è¢‹", msg: "åœ¨èˆŠå¤–å¥—ç™¼ç¾éŒ¢ï¼Œç²¾ç¥ç¬é–“æ¢å¾©ï¼", s: 0, st: -15, e: 20 },
  { name: "ğŸ§» å‰è¼©å°æŠ„", msg: "åœ¨åœ–æ›¸é¤¨æ¡Œç¸«æ’¿åˆ°å¯¶ï¼Œé€™é¡Œç©©äº†ã€‚", s: 20, st: -10, e: 0 }
];

function updateUI() {
  document.getElementById('score').textContent = score;
  document.getElementById('stress').textContent = stress;
  document.getElementById('energy').textContent = energy;
  document.getElementById('days').textContent = days;
  
  document.getElementById('scoreBar').style.width = Math.max(0, Math.min(score, 100)) + '%';
  document.getElementById('stressBar').style.width = Math.max(0, Math.min(stress, 100)) + '%';
  document.getElementById('energyBar').style.width = Math.max(0, Math.min(energy, 100)) + '%';
}

function startGame() {
  score = 50; stress = 30; energy = 50; days = 14;
  currentPool = [...allEvents]; // é‡ç½®äº‹ä»¶æ± ï¼ˆæ·±æ‹·è²ï¼‰
  document.getElementById('startScreen').style.display = 'none';
  document.getElementById('gameScreen').style.display = 'block';
  updateUI();
  nextDay();
}

function nextDay() {
  if (stress >= 100) return endGame("ğŸ¤¯ å£“åŠ›çˆ†è¡¨", "ä½ åœ¨èµ°å»Šçªç„¶è·³èµ·ç§‘ç›®ä¸‰ï¼Œè¢«ä¿å®‰æ¶èµ°äº†ã€‚");
  if (energy <= 0) return endGame("ğŸ’€ ç²¾ç¥å´©é›¢", "ä½ åœ¨è€ƒå·ä¸Šç•«äº†å€‹æ´¾å¤§æ˜Ÿå¾Œå°±é€²å…¥äº†æ°¸çœ ã€‚");
  if (score <= 0) return endGame("ğŸ“‰ æˆç¸¾æ­¸é›¶", "ä½ çš„æˆç¸¾è·Œå…¥åœ°æ®¼ï¼Œæ•™æˆå»ºè­°ä½ æ”¹è¡Œç‚¸é›æ’ã€‚");
  if (days <= 0) return endGame("ğŸ æ¨¡æ“¬çµæŸ", "è€ƒè©¦å­£çµæŸäº†ï¼Œæ´»ä¸‹ä¾†å°±æ˜¯å¥‡è¹Ÿã€‚");

  // éš¨æ©Ÿé“å…·è§¸ç™¼
  const itemPop = document.getElementById('itemPop');
  if (Math.random() < 0.2) {
    const item = items[Math.floor(Math.random() * items.length)];
    score += item.s; stress += item.st; energy += item.e;
    itemPop.innerHTML = `<b>âœ¨ éš¨æ©Ÿäº‹ä»¶ï¼š${item.name}</b><br>${item.msg}`;
    itemPop.style.display = 'block';
    setTimeout(() => itemPop.style.display = 'none', 3500);
  }

  // æŠ½å–ä¸é‡è¤‡äº‹ä»¶
  const eventIdx = Math.floor(Math.random() * currentPool.length);
  const ev = currentPool.splice(eventIdx, 1)[0]; // é—œéµï¼šåˆªé™¤å·²é¸äº‹ä»¶ï¼Œç¢ºä¿ä¸é‡è¤‡

  document.getElementById('dayLabel').textContent = `DAY ${15 - days}`;
  document.getElementById('eventText').textContent = ev.text;
  
  const choicesEl = document.getElementById('choices');
  choicesEl.innerHTML = '';
  
  ev.options.forEach(op => {
    const b = document.createElement('button');
    b.textContent = op.t;
    b.onclick = () => {
      score += op.s; stress += op.st; energy += op.e; days--;
      updateUI();
      nextDay();
    };
    choicesEl.appendChild(b);
  });
}

function endGame(title, msg) {
  let grade, icon, sub;
  if (score >= 90) { grade = 'å­¸è¡“å¤§å¸«'; icon = 'ğŸ‘‘'; sub = 'æ•™æˆå•ä½ è¦ä¸è¦ç›´æ¥å¿µåšå£«ã€‚'; }
  else if (score >= 70) { grade = 'æ™®é€šå¤§å­¸ç”Ÿ'; icon = 'ğŸ«'; sub = 'å¹³æ·¡æ‰æ˜¯çœŸï¼Œé †åˆ©æ‹¿åˆ°ç•¢æ¥­è­‰æ›¸ã€‚'; }
  else if (energy >= 80) { grade = 'å¿«æ¨‚æ°´è±š'; icon = 'ğŸŠ'; sub = 'è€ƒè©¦å¯ä»¥å†è€ƒï¼Œå‘½åªæœ‰ä¸€æ¢ã€‚'; }
  else if (score < 40) { grade = 'é›æ’åº—è€é—†'; icon = 'ğŸ—'; sub = 'ç‚¸é›æ’ä¹Ÿæ˜¯ä¸€ç¨®å°ˆæ¥­æŠ€èƒ½ã€‚'; }
  else { grade = 'æ··åˆ†æ•™ä¸»'; icon = 'ğŸ¤¡'; sub = 'åœ¨è¢«ç•¶é‚Šç·£åè¦†æ©«è·³ã€‚'; }

  document.getElementById('gameScreen').innerHTML = `
    <div class="end-screen">
      <div style="font-size: 80px;">${icon}</div>
      <h1>${title}</h1>
      <p style="font-size: 18px; color:#636e72;">${msg}</p>
      <div style="font-size: 32px; font-weight: 800; color:var(--primary); margin: 20px 0;">ç¨±è™Ÿï¼š${grade}</div>
      <p style="color:#888; margin-bottom: 30px;">${sub}</p>
      <div class="button-group">
        <button class="restart-btn" onclick="location.reload()">å†å•Ÿäººç”Ÿ</button>
      </div>
    </div>
  `;
}
</script>

</body>
</html>