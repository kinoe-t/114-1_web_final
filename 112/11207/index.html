<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åˆé¤æ‹‰éœ¸æ©Ÿ</title>
    <style>
        :root {
            --gold: #ffcf33;
            --slot-w: 180px;
            --slot-h: 120px; 
            --bg-dark: #000000;
        }

        body {
            background-color: var(--bg-dark);
            color: white;
            font-family: "PingFang TC", "Microsoft JhengHei", sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            margin: 0;
            overflow-x: hidden;
        }

        .title-container {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        h1 {
            color: var(--gold);
            font-size: 2.5rem;
            text-shadow: 2px 2px 10px rgba(255, 207, 51, 0.5);
            margin: 0;
            letter-spacing: 4px;
        }

        .machine-frame {
            position: relative;
            background: #333;
            padding: 30px 90px 30px 30px;
            border-radius: 40px;
            border: 10px solid #555;
            box-shadow: 0 20px 50px rgba(0,0,0,0.9);
        }

        .slots-container {
            display: flex;
            gap: 10px;
            background: #111;
            padding: 15px;
            border-radius: 15px;
            border: 6px solid var(--gold);
        }

        .slot {
            width: var(--slot-w);
            height: var(--slot-h);
            background: #fff;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }

        .slot::after {
            content: '';
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(rgba(0,0,0,0.4) 0%, transparent 20%, transparent 80%, rgba(0,0,0,0.4) 100%);
            pointer-events: none;
            z-index: 2;
        }

        .reel {
            display: flex;
            flex-direction: column;
            transition: transform 5s cubic-bezier(0.1, 0, 0.05, 1);
            will-change: transform;
        }

        .food-item {
            width: var(--slot-w);
            height: var(--slot-h);
            display: flex;
            justify-content: center;
            align-items: center;
            /* é—œéµä¿®æ”¹ï¼šç¸®å°åœ–ç‰‡æ¯”ä¾‹è‡³ 70% ç¢ºä¿å­—é«”æ¸…æ™°ä¸è¢«åˆ‡åˆ° */
            background-size: 70% auto; 
            background-repeat: no-repeat;
            background-position: center 30%; /* åœ–ç‰‡ç•¥å¾®é ä¸Š */
            flex-shrink: 0;
            position: relative;
        }

        .food-label {
            background: rgba(0, 0, 0, 0.8); /* åŠ æ·±èƒŒæ™¯ç¢ºä¿é–±è®€ */
            color: #fff;
            padding: 3px 10px;
            border-radius: 12px;
            font-weight: 700;
            font-size: 0.95rem;
            z-index: 1;
            /* é—œéµä¿®æ”¹ï¼šå°‡é£Ÿç‰©åç¨±ç§»è‡³ä¸‹æ–¹ï¼Œå®Œå…¨é¿é–‹èƒŒæ™¯åœ–æ¨™é¡Œ */
            transform: translateY(35px); 
        }

        .reel-main-bg { background-image: url('line_crop_1.png'); }
        .reel-snack-bg { background-image: url('line_crop_2.png'); }
        .reel-drink-bg { background-image: url('line_crop_3.png'); }

        .handle-arm {
            position: absolute;
            right: -45px;
            top: 60px;
            width: 22px;
            height: 130px;
            background: #666;
            border-radius: 10px;
            cursor: pointer;
            transform-origin: bottom;
            transition: transform 0.3s;
        }

        .handle-ball {
            position: absolute;
            top: -40px; left: -14px; width: 50px; height: 50px;
            background: radial-gradient(circle at 30% 30%, #ff4d4d, #900);
            border-radius: 50%;
            box-shadow: 0 5px 15px rgba(0,0,0,0.7);
        }

        .pulling { transform: rotateX(60deg); }

        #result-display {
            opacity: 0;
            margin-top: 30px;
            text-align: center;
            transition: 1s;
        }

        .res-grid {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 15px;
        }

        .res-btn {
            background: var(--gold);
            color: #000;
            padding: 10px 20px;
            border-radius: 10px;
            text-decoration: none;
            font-weight: bold;
            font-size: 0.9rem;
            box-shadow: 0 4px 0 #b8860b;
        }

        .res-btn:active { transform: translateY(2px); box-shadow: 0 2px 0 #b8860b; }

        .hint { margin-top: 25px; color: #555; font-size: 0.85rem; }
    </style>
</head>
<body>

    <div class="title-container">
        <h1>ğŸ± åˆé¤æ‹‰éœ¸æ©Ÿ ğŸ±</h1>
    </div>

    <div class="machine-frame">
        <div class="slots-container">
            <div class="slot"><div id="reel-main" class="reel"></div></div>
            <div class="slot"><div id="reel-snack" class="reel"></div></div>
            <div class="slot"><div id="reel-drink" class="reel"></div></div>
        </div>
        <div id="lever" class="handle-arm" onclick="spin()">
            <div class="handle-ball"></div>
        </div>
    </div>

    <div id="result-display">
        <h2 id="result-text" style="font-size: 1.5rem;"></h2>
        <div class="res-grid" id="res-actions"></div>
    </div>

    <p class="hint">åœ–ç‰‡æ¯”ä¾‹å·²èª¿æ•´ç‚º 70%ï¼Œç¢ºä¿åˆ†é¡å­—æ¨£æ¸…æ™°å¯è¦‹ã€‚</p>

    <audio id="spinSfx" src="Slot machine.mp3"></audio>

    <script>
        const mainList = ["æ»·è‚‰é£¯","é›è‚‰é£¯","è‚‰ç‡¥é£¯","æ§è‚‰é£¯","æ’éª¨é£¯","ç‚¸é›è…¿ä¾¿ç•¶","ç‡’è‚‰ä¾¿ç•¶","é¯–é­šä¾¿ç•¶","ç´…ç‡’ç‰›è‚‰éºµ","æ¸…ç‡‰ç‰›è‚‰éºµ","æ“”ä»”éºµ","éº»é†¬éºµ","ç‚’ç±³ç²‰","æ¹¯ç±³ç²‰","ç²„æ¢","ç¢—ç²¿","æ²¹é£¯","è‚‰åœ“","ç­’ä»”ç±³ç³•","è±¬è…³é£¯","é´¨è‚‰é£¯","éµè‚‰é£¯","é‹ç‡’æ„éºµ","é­¯éºµ","å°å¼ç‚’é£¯","å°å¼ç‚’éºµ","æ»·å‘³","å£½å¸","æ‹‰éºµ","çƒé¾éºµ","ç‰›ä¸¼","è±¬æ’ä¸¼","å’–å“©é£¯","ç‚¸è±¬æ’å®šé£Ÿ","çŸ³é‹æ‹Œé£¯","éŸ“å¼ç‚¸é›","è¾£ç‚’å¹´ç³•","éƒ¨éšŠé‹","æ³¡èœé‹","å››å·éº»è¾£é‹","åŒ—äº¬çƒ¤é´¨","ä¸Šæµ·å°ç± åŒ…","ç‚’æ²³ç²‰","è¶Šå—æ²³ç²‰","æ‰“æ‹‹è±¬é£¯","æ³°å¼ç¶ å’–å“©","æµ·å—é›é£¯","è‚‰éª¨èŒ¶","è˜­å·æ‹‰éºµ","ç¾©å¤§åˆ©éºµ","ç‡‰é£¯","æŠ«è–©","æ¼¢å ¡","ç‰›æ’","ç„—çƒ¤","ä¸‰æ˜æ²»","æ²é¤…"];
        const snackList = ["é¹½é…¥é›","é›æ’","ç”œä¸è¾£","é—œæ±ç…®","èšµä»”ç…","å¤§è…¸åŒ…å°è…¸","ç…é¤ƒ","è˜¿è””ç³•","è”¥æŠ“é¤…","éŸ­èœç›’","ç‡’é¤…æ²¹æ¢","èƒ¡æ¤’é¤…","åœ°ç“œçƒ","èŠ±æä¸¸","ç‚¸é­·é­š","çç ç²‰åœ“","èŠ‹åœ“","åœ°ç“œåœ“","è±†èŠ±","ä»™è‰","æ„›ç‰","ç‡’ä»™è‰","ç´…è±†æ¹¯","ç¶ è±†æ¹¯","ç±³è‹”ç›®(ç”œ)","å‰‰å†°","é›ªèŠ±å†°","é›è›‹ç³•","è»Šè¼ªé¤…","è‰ä»”ç²¿","éº»ç³¬","é³³æ¢¨é…¥","å¤ªé™½é¤…","å¯éº—é¤…","é¬†é¤…","é¦¬å¡é¾","æ³¡èŠ™","ææ‹‰ç±³è˜‡","èµ·å¸è›‹ç³•","å¸ƒæœ—å°¼","æ—¥å¼ç³°å­","é¯›é­šç‡’","éŸ“å¼ç³–é¤…"];
        const drinkList = ["èŒ¶å…¸ç´…èŒ¶ç‰›å¥¶","ç¥è¾²æœ¬èˆ–","Ai-Yoå“å‘¦æ„›ç‰","å°é›…èŠ‹é ­è¥¿ç±³éœ²","ç¦¾èŒ¶é¤Šç”ŸèŒ¶é£²","ã€Œå¸ƒã€å¥½å–çš„èŒ¶","æ­£æ€ç¶­é½‹è£½èŒ¶","æ—¥å·æ‰‹æ–é£²","é‡‘èŠ‹è‰¯åœ“","æ‚ æœ","å›æ†¶å°æ™‚å€™","ä¸€æ‰‹ç§è—ç´…èŒ¶","æ¥“å ‚èŒ¶é£²","æ‹¾å¹´èŒ¶äº‹","UG","BUBBLEèŒ¶å†·èƒ","å¸Œæœ›å¥¶èŒ¶","æ˜¥æ°´å ‚ Riverside","è¯é”å¥¶èŒ¶","å¤§èŒ—","è¿·å®¢å¤","éº»å¤","äº”æ¡è™Ÿ","æ¨‚æ³•","çç…®ä¸¹"];

        function initReel(id, items, bgClass) {
            const reel = document.getElementById(id);
            const shuffled = [...items].sort(() => Math.random() - 0.5);
            const displayList = Array(15).fill(shuffled).flat();
            
            displayList.forEach(name => {
                const div = document.createElement('div');
                div.className = `food-item ${bgClass}`;
                div.innerHTML = `<span class="food-label">${name}</span>`;
                reel.appendChild(div);
            });
            return shuffled;
        }

        let mSet = initReel('reel-main', mainList, 'reel-main-bg');
        let sSet = initReel('reel-snack', snackList, 'reel-snack-bg');
        let dSet = initReel('reel-drink', drinkList, 'reel-drink-bg');

        let spinning = false;

        function spin() {
            if (spinning) return;
            spinning = true;

            const sfx = document.getElementById('spinSfx');
            sfx.currentTime = 0; sfx.play().catch(()=>{});
            
            document.getElementById('lever').classList.add('pulling');
            document.getElementById('result-display').style.opacity = '0';
            setTimeout(() => document.getElementById('lever').classList.remove('pulling'), 300);

            const i1 = Math.floor(Math.random() * mSet.length);
            const i2 = Math.floor(Math.random() * sSet.length);
            const i3 = Math.floor(Math.random() * dSet.length);

            const itemH = 120; 
            const target1 = (8 * mSet.length + i1) * itemH;
            const target2 = (10 * sSet.length + i2) * itemH;
            const target3 = (12 * dSet.length + i3) * itemH;

            document.getElementById('reel-main').style.transform = `translateY(-${target1}px)`;
            document.getElementById('reel-snack').style.transform = `translateY(-${target2}px)`;
            document.getElementById('reel-drink').style.transform = `translateY(-${target3}px)`;

            setTimeout(() => {
                const m = mSet[i1]; const s = sSet[i2]; const d = dSet[i3];
                document.getElementById('result-text').innerHTML = 
                    `ä»Šå¤©åƒï¼š<span style="color:var(--gold)">${m} + ${s}</span><br><small>é…ï¼š${d}</small>`;
                
                const act = document.getElementById('res-actions');
                const searchBase = "https://www.google.com/maps/search/";
                act.innerHTML = `
                    <a href="${searchBase + encodeURIComponent("é«˜é›„ " + m)}" target="_blank" class="res-btn">ğŸ” æ‰¾ä¸»é£Ÿ</a>
                    <a href="${searchBase + encodeURIComponent("é«˜é›„ " + s)}" target="_blank" class="res-btn">ğŸ” æ‰¾é»å¿ƒ</a>
                    <a href="${searchBase + encodeURIComponent("é«˜é›„ " + d)}" target="_blank" class="res-btn">ğŸ” æ‰¾é£²å“</a>
                `;
                
                document.getElementById('result-display').style.opacity = '1';
                spinning = false;
            }, 5000);
        }
    </script>
</body>
</html>